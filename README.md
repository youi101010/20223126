# 리눅스 명령어

## top
- **리눅스 시스템에서 실시간으로 프로세스들이랑 시스템 자원 사용 현황을 보여주는 명령어**

#### 사용법
- top

#### 화면에 나오는 주요 정보
- cpu 사용률
- 메모리 사용량
- 실행중인 프로세스 목록
- 각 프로세스의 PID, 사용자, CPU%, 메모리%

#### 단축키
- q : 종료
- k : 프로세스 강제종료
- M : 메모리 사용량 순으로 정령
- P : CPU 사용량 순으로 정렬
- 1 : CPU 코어별로 따로 보기

#### 옵션
- -d 초 : 화면 갱신 주기 설정
- -u 사용자명 : 특정 사용자의 프로세스만 보여줌
- -p PID : 특정 프로세스만 모니터링할 때
  - 예) top -p 1234
- -n 숫자 : 지정한 횟수만큼만 갱신하고 종료
- -b : 배치 모드, 파일로 저장할 때
  - top -b -n 1 > output.txt
 
#### top화면 읽는 방법
#####  맨위의 요약 정보
```
top - 12:34:56 up 10 days  (현재시간, 가동시간)
Tasks: 200 total (실행중인 작업 수)
%Cpu(s): 25.0 us (user 사용률)
         5.0 sy (system 사용률) 
         70.0 id (idle 유휴율)
KiB Mem: 총메모리, 사용중, 여유공간
```
##### 프로세스 목록 컬럼
- PID : 프로세스 ID번호
- USER : 누가 실행했는지
- PR : 우선순위
- NI : Nice값(20~19, 낮을수록 우선!)
- VIRT : 가상 메모리 사용량
- RES : 실제 물리 메모리 사용량
- SHR : 공유 메모리
- S : 상태 (R=실행중, S=대기, Z=좀비)
- %CPU : CPU 사용률
- %MEM : 메모리 사용률
- TIME+ : 총 실행 시간
- COMMAND : 프로세스 이름

## ps
- 현재 순간의 프로세스 상태를 보여줌
- 실시간은 아님

#### 사용법
- ps

#### 옵션
- ps aux : 모든 프로세스 자세히 보기
  - a: 모든 사용자
  - u: 자세한 정보
  - x: 터미널 없는 프로세스
- ps -ef : 전체프로세스
- ps -u 사용자명 : 특정 사용자 프로세스
- ps -p PID : 특정 PID만 확인

#### 유용한 조합
- ps aux | grep 프로세스명
  - (특정 프로세스 찾기!)
- ps aux --sort=-%mem
  - (메모리 많이 쓰는 순!)
- ps aux --sort=-%cpu
  - (CPU 많이 쓰는 순!)

## jobs
- 백그라운드로 실행 중인 작업들을 보여줌

#### 사용법
- jobs

#### 옵션
- jobs -l : (PID까지 보여줌)
- jobs -r : (실행 중인 것)
- jobs -s : (정지된 것)

#### 상태표시
- Running : 실행 중
- Stopped : 일시정지
- Done : 완료

#### 작업 제어
- Ctrl+Z : 현재 프로세스 일시정지
- bg %작업번호 : 백그라운드로 재개
- fg %작업번호 : 포어그라운드로 가져오기
- & : 명령어 뒤에 붙이면 백그라운드 실행!

## kill
- 프로세스를 종료시키는 명령

#### 사용법:
- kill PID 번호
- kill -9 PID 번호
  - 강제 종료
- kill -15 PID 번호
  - 정상종료, 기본값
 
#### 주요 시그널
- -15(SIGTERM) : 정상 종료 요청, 프로세스가 정리하고 종료
- -9 (SIGKILL) : 강제 즉시 종료
- -1 (SIGHUP) : 재시작 신호
- -2 (SIGINT): Ctrl+C랑 같음, 인터립트
- -19 (SIGSTOP): 일시정지
- -18 (SIGCONT): 재개

#### 옵션
- kill -l : 사용가능한 시그널 목록 보기 <br> <img width="371" height="136" alt="image" src="https://github.com/user-attachments/assets/57df6faf-9a87-4551-82b9-8a9581dfa1de" />




## 리눅스 프로세스 관리 명령어 비교

| 명령어 | 용도 | 특징 | 자주 쓰는 옵션 | 실시간 여부 |
|--------|------|------|----------------|-------------|
| **top** | 실시간 프로세스 모니터링 | • CPU, 메모리 사용률 실시간 표시<br>• 인터랙티브 화면<br>• 계속 갱신됨 | `-d 초` (갱신 주기)<br>`-u 사용자` (특정 사용자)<br>`-p PID` (특정 프로세스) | 실시간 |
| **ps** | 현재 프로세스 상태 확인 | • 특정 순간의 스냅샷<br>• 스크립트에 유용<br>• 다양한 필터링 가능 | `aux` (전체 자세히)<br>`-ef` (전체 다른 형식)<br>`-u 사용자` (특정 사용자) | - |
| **jobs** | 백그라운드 작업 관리 | • 현재 셸의 작업만<br>• 작업 번호로 제어<br>• Ctrl+Z로 일시정지 | `-l` (PID 포함)<br>`-r` (실행 중만)<br>`-s` (정지된 것만) | 실시간 |
| **kill** | 프로세스 종료 | • PID로 종료<br>• 시그널 전송<br>• 하나씩 처리 | `-9` (강제 종료)<br>`-15` (정상 종료)<br>`-l` (시그널 목록) | - |

